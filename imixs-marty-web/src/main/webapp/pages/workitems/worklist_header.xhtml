<f:subview xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich" id="worklist_header_id">



	<rich:panel>
		<f:facet name="header">

			<h:panelGroup id="worklist_title">

				<!-- Project Name -->
				<h:outputText
					rendered="#{! empty projectMB.workitem.item['txtname']}"
					value="#{projectMB.workitem.item['txtname']}" />

				<!-- Workflow Group -->
				<h:outputText
					rendered="#{! empty worklistMB.workflowGroupFilterName and ! empty  projectMB.workitem.item['txtname']}"
					value=" » " />
				<h:outputText
					rendered="#{! empty worklistMB.workflowGroupFilterName}"
					value="#{worklistMB.workflowGroupFilterName}" />

				<!-- View Title -->
				<h:outputText value=" » " rendered="#{! empty worklistMB.workflowGroupFilterName or ! empty  projectMB.workitem.item['txtname']}"/>
				
				<h:outputText value="#{worklistMB.viewTitle}" />
				
				
			</h:panelGroup>
		</f:facet>

		<a4j:outputPanel layout="block" styleClass="sywapp-viewentry">
		

			<ui:include src="/pages/workitems/worklist_filter.xhtml" />
			<!-- -->
			<ui:include src="/pages/workitems/worklist_news.xhtml" />


			<rich:panel style="margin:10px 4px;"
				rendered="#{! empty projectlistMB.processList[projectMB.workitem.item['$uniqueid']]}">

				<rich:toggleControl for="suggest_process_id">

					<h3>
						<h:outputText value="#{global.start_new_process} »" />
					</h3>

				</rich:toggleControl>

				<rich:togglePanel switchType="client" id="suggest_process_id"
					stateOrder="processview_closed,processview_open">
					<f:facet name="processview_closed">
						<a4j:outputPanel>
							<!-- closed -->
						</a4j:outputPanel>
					</f:facet>

					<f:facet name="processview_open">
						<!-- open -->
						<a4j:outputPanel layout="block">

							<!-- *** Process List *** -->

							<ui:repeat
								value="#{projectlistMB.processList[projectMB.workitem.item['$uniqueid']]}"
								var="process">

								<div class="sywapp-processlist"
									style="float: left; width: 200px;">
									<ul>
										<li><h:commandLink action="open_workitem"
												actionListener="#{workitemMB.doCreateWorkitem}"
												value="#{process.item['txtworkflowgroup']} »">
												<f:param name="id"
													value="#{process.item['$modelversion']}|#{process.item['numprocessid']}" />
												<f:param name="project" value="#{project.item['$uniqueid']}" />
											</h:commandLink> <a4j:outputPanel layout="block">
												<h:outputText value="#{process.item['rtfdescription']}"
													escape="false" />
											</a4j:outputPanel></li>
									</ul>

								</div>
							</ui:repeat>
							<div style="clear: left" />


						</a4j:outputPanel>
					</f:facet>
				</rich:togglePanel>



			</rich:panel>
		</a4j:outputPanel>


	</rich:panel>

</f:subview>